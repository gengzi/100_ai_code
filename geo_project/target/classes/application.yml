server:
  port: 8095

spring:
  application:
    name: geo-platform
  ai:
    openai:
      api-key: sk-wkekvkigaytxuokxdcbrcimuugyawdnxevihgwvxwerdmzqa
      chat:
        options:
          model: "deepseek-ai/DeepSeek-V3"
          temperature: 0.7
          max-tokens: 4000
      base-url: "https://api.siliconflow.cn"

  # Redis配置
  data:
    redis:
      host: localhost
      port: 6379
      password:
      database: 0
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-wait: -1ms
          max-idle: 8
          min-idle: 0

  # Redis序列化配置
  cache:
    type: redis
    redis:
      time-to-live: 86400000  # 24小时

# Spring AI配置 (兼容SiliconFlow OpenAI API)

# GEO平台配置
geo:
  platform:
    # AI配置 (Spring AI会覆盖这些配置，但保留作为备份)
    ai:
      url: "https://api.siliconflow.cn/v1/chat/completions"
      key: "sk-wkekvkigaytxuokxdcbrcimuugyawdnxevihgwvxwerdmzqa"
      model: "deepseek-ai/DeepSeek-V3"
      timeout: 60000
      temperature: 0.7
      max-tokens: 4000

    # 发布配置
    publish:
      storage-state-path: "./storage-states"
      headless: false
      timeout: 30000
      retry-count: 3
      publish-interval: 2000
      auto-retry: true
      max-retries: 3
      # 批量发布配置
      batch:
        max-concurrent: 3              # 最大并发发布数
        timeout: 300000                # 批量发布超时时间（5分钟）
        interval: 2000                 # 发布间隔（毫秒）

    # 平台配置
    platform:
      weibo:
        name: "weibo"
        base-url: "https://weibo.com"
        publish-url: "https://weibo.com/compose"
      xiaohongshu:
        name: "xiaohongshu"
        base-url: "https://www.xiaohongshu.com"
        publish-url: "https://creator.xiaohongshu.com/publish/publish"
      zhihu:
        name: "zhihu"
        base-url: "https://www.zhihu.com"
        publish-url: "https://zhuanlan.zhihu.com/write"
      douyin:
        name: "douyin"
        base-url: "https://www.douyin.com"
        publish-url: "https://creator.douyin.com"
      # 新增国内内容平台配置
      csdn:
        name: "csdn"
        base-url: "https://blog.csdn.net"
        publish-url: "https://editor.csdn.net/md?not_checkout=1"
        # 改进版CSDN发布配置
        timeout: 30000
        retry-count: 3
        editor-url: "https://editor.csdn.net/md?not_checkout=1"
        # 元素等待配置
        element-wait-timeout: 5000
        page-stable-timeout: 10000
        # 发布设置
        auto-tags: ["技术", "编程", "原创"]
        default-visibility: "public"
      juejin:
        name: "juejin"
        base-url: "https://juejin.cn"
        publish-url: "https://juejin.cn/editor?type=markdown"
      jianshu:
        name: "jianshu"
        base-url: "https://www.jianshu.com"
        publish-url: "https://www.jianshu.com/writer#/"
      cnblogs:
        name: "cnblogs"
        base-url: "https://www.cnblogs.com"
        publish-url: "https://i.cnblogs.com/posts/edit"
      oschina:
        name: "oschina"
        base-url: "https://www.oschina.net"
        publish-url: "https://my.oschina.net/blog/new"
      segmentfault:
        name: "segmentfault"
        base-url: "https://segmentfault.com"
        publish-url: "https://segmentfault.com/write"

# 日志配置
logging:
  level:
    com.geo.platform: DEBUG
    com.microsoft.playwright: INFO
    root: INFO
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"