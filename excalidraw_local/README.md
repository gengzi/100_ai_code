# Excalidraw 本地渲染工具

一个完全使用本地JavaScript文件的Excalidraw渲染解决方案，无需依赖外部CDN或网络连接。

## 🚀 快速开始

### 方法1: 一键启动（推荐）
双击运行 `start.bat` 文件，它将：
- 启动本地HTTP服务器
- 自动打开浏览器到渲染页面

### 方法2: 手动启动
1. 确保已安装 Node.js
2. 在命令行运行：
   ```bash
   node start-local-server.js
   ```
3. 打开浏览器访问：`http://localhost:3000`

## 📁 项目结构

```
excalidraw_local/
├── index.html                 # 主渲染页面
├── start-local-server.js      # 本地HTTP服务器
├── start.bat                  # Windows启动脚本
├── react.production.min.js    # React库（本地）
├── react-dom.production.min.js # ReactDOM库（本地）
├── excalidraw.production.min.js # Excalidraw库（本地）
├── test-simple.html           # 简单测试页面
├── test-browser.html          # 浏览器测试页面
└── README.md                  # 说明文档
```

## ✨ 功能特性

### 🎨 核心功能
- ✅ 完全本地运行，无需网络连接
- ✅ 使用本地JS文件，加载速度快
- ✅ 支持实时编辑和渲染
- ✅ 导出为PNG图片
- ✅ 预设模板快速开始
- ✅ JSON数据直接编辑

### 🛠️ 支持的图形
- 矩形、圆形、椭圆等基本形状
- 箭头和连接线
- 文本标签
- 流程图元素
- 思维导图
- 自定义图形

### 📤 导出选项
- PNG图片格式
- JSON数据格式
- 可扩展支持更多格式

## 🎯 使用方法

### 1. 基本使用
1. 启动应用后，你会看到一个完整的Excalidraw编辑器
2. 使用工具栏绘制图形
3. 编辑器的JSON数据会实时更新到右侧面板

### 2. 使用模板
1. 点击"加载简单示例"或"加载流程图"
2. 图表会自动渲染到画布
3. 你可以进一步编辑和修改

### 3. 导入自定义数据
1. 在右侧的JSON编辑器中粘贴Excalidraw数据
2. 点击"渲染图表"按钮
3. 图表将显示在画布上

### 4. 导出结果
1. 点击"导出为PNG"下载图片
2. 或者复制右侧的JSON数据

## 🔧 技术实现

### 技术栈
- **React 18.2.0** - 前端框架
- **ReactDOM 18.2.0** - DOM渲染
- **Excalidraw** - 图表渲染引擎
- **Node.js** - 本地服务器
- **纯JavaScript** - 无其他依赖

### 本地化优势
- 🚀 **零网络依赖**：完全离线工作
- ⚡ **快速加载**：本地文件，无CDN延迟
- 🔒 **数据安全**：所有数据都在本地处理
- 🎯 **稳定可靠**：不受外部服务影响

## 📋 系统要求

- **操作系统**：Windows 10+ (已测试)
- **Node.js**：14.0+ （必需）
- **浏览器**：Chrome 90+、Firefox 88+、Edge 90+
- **内存**：至少 4GB RAM
- **存储**：至少 100MB 可用空间

## 🔍 故障排除

### 常见问题

1. **页面显示"React加载失败"**
   - 确保所有JS文件在正确位置
   - 检查浏览器控制台错误信息
   - 尝试重新启动服务器

2. **浏览器安全限制**
   - 使用 `http://localhost:3000` 而不是 `file://` 协议
   - 确保服务器正常运行

3. **导出PNG失败**
   - 检查浏览器是否支持Canvas API
   - 确保Excalidraw API已初始化完成

4. **服务器启动失败**
   - 检查端口3000是否被占用
   - 确保Node.js已正确安装

### 调试技巧
- 打开浏览器开发者工具查看控制台错误
- 检查网络面板确认JS文件加载成功
- 使用测试页面验证库文件是否正常

## 🤝 贡献

欢迎提交问题和改进建议！

## 📄 许可证

本项目仅供学习和个人使用。